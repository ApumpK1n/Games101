            基于位置的流体
摘要：
  在流体模拟中，增强不可压缩性对于真实性至关重要。它在计算上非常耗时。最近的工作提高了它的效率，但仍然需要不切实际的时间步长
用于实时应用。在这项工作中，我们提出了一个集成到基于位置的动力学框架的迭代密度求解器（PBD）。通过制定和解决一组位置约束强制
恒定密度，我们的方法类似于现代平滑粒子流体动力学（SPH）求解器的不可压缩性的收敛性，但是继承了它的几何的稳定性。PBD允许适合实时应用
的大时间步长。我们加入人工压力用于改善粒子分布，产生表面张力。并且降低了传统SPH的邻居要求。最后，我们通过应用涡度限制作为速度后处理来解决能量损失问题。


介绍：
  流体，尤其是水等一些液体，造成许多视觉上丰富的现象，在计算机图形学中模拟它们是一个有趣的领域并且具有挑战的事情。
有很多种模拟它们的方法，我们使用粒子方法的原因是它的简单性和灵活性。
  平滑粒子流体动力学（SPH）是一种众所周知的基于粒子的流体模拟方法。它具有许多吸引人的特性：质量守恒、拉格朗日离散化（在模拟域不一定事先知道的游戏中特别有用）和概念简单性。
然而，SPH对邻域缺陷引起的密度波动很敏感，并且由于模型的非结构化性质，执行不可压缩的成本很高。最近的工作将效率提高了一个数量级，但仍然需要小时间步长，限制了实时应用。
  对于交互式环境，鲁棒性是一个关键问题：模拟必须很好地处理退化情况。如果粒子没有足够的邻居来进行精确的密度估计，SPH算法通常会变得不稳定。典型的解决方案是以增加计算为代价，通过
采用足够小的时间步长或使用足够多的粒子来尝试避免这些情况。
  在本文中，我们展示了在基于位置的动力学（PBD）框架内如何模拟不可压缩流动。我们选择PBD是因为它的无条件稳定时间集成性和健壮性，使其在游戏和电影制片中广受欢迎。通过解决粒子问题自由表面的缺陷，
并处理大的密度误差，我们的方法允许用户用不可压缩性来换取性能，同时保持稳定。

相关工作：
  Müller [2003] 表明 SPH 可使用低刚度状态方程 (EOS) 模拟粘度和表面张力从而被用于交互式流体模拟。 然而，为了保持不可压缩性，标准 SPH 或弱可压缩 SPH (WCSPH) [Becker
和 Teschner 2007] 需要刚性方程，导致大的力限制时间步长。预测修正不可压缩SPH (PCISPH) [Solenthaler 和 Pajarola 2009] 通过使用迭代雅可比风格的方法来放宽这个时间步长限制，该方法累积压力变化并施加力直到收敛。
它的优点是不需要用户指定刚度值以及在许多密度校正中分摊邻居发现的成本。

  Bodin 等人 [2012] 通过将不可压缩性作为速度约束系统来实现均匀密度的流体。他们构建了一个使用线性化约束函数的线性互补问题，使用 Gauss-Seidel 迭代求解。 相比之下，
我们的方法（和 PCISPH）试图通过直接对粒子进行操作，在每次雅可比迭代重新评估约束误差和梯度，解决非线性问题。

  混合方法，例如流体隐式粒子 (FLIP) [Brackbill和 Ruppel 1986] 使用网格进行压力求解并将速度变化传递回粒子。 FLIP后来由 Zhu 和 Bridson [2005] 扩展到具有自由表面的不可压缩流动。
拉文德兰等人[2011] 在自适应 SPH 更新之前，使用粗网格来求解近似自由发散速度场。

  克拉维特等人[2005] 还使用基于位置的方法来模拟粘弹性流体。 但是，由于时间步长出现在他们的位置投影的各个地方，他们的做法只是
在常规显式积分中条件稳定。 

 基于位置的动力学[M¨uller 等人2007]提供了一种方法用于基于Verlet积分的游戏动力学仿真。 它通过直接更新粒子位置，使用 Gauss-Seidel 迭代求解非线性约束系统。
通过逃避力，从位置更新中隐式地推导出动量变化，与显式方法相关的典型不稳定性是避免了。


强制不可压缩性：
  为了强制恒定密度，我们解决了一个非线性约束系统，每个粒子有一个约束。每个约束都是粒子位置及其邻居位置的函数，我们统称为 p1,...,pn。继 [Bodin 等人。
2012] 第 i 个粒子的密度约束是使用状态方程：(1)
      